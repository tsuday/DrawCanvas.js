<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Sample Application for DrawCanvas.js</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				background-color: #fff;
				margin: 16px;
				overflow: hidden;
			}
		</style>
		<script src="js/DrawCanvas.js"></script>
		<script>

			window.onload = function () {

				var drawCanvasEle = document.getElementById("drawCanvas");
				var drawCanvas = new DrawCanvas(drawCanvasEle);
				
				// Sample to show how to change pen size
				var sliderPenSize = document.getElementById("penSize");
				sliderPenSize.addEventListener("input", function() {
					drawCanvas.setPenSize(sliderPenSize.value);
				}, false);



				// Sample to show how to clear canvas
				var clearDrawingBtn = document.getElementById("clearDrawingBtn");
				clearDrawingBtn.onclick = function() {
					drawCanvas.clear();
				};

				// Sample to show how to donwload drawn image
				var downloadBtn = document.getElementById("downloadBtn");
				var downloadLink = document.getElementById("downloadLink");
				downloadBtn.onclick = function() {
					//var data = drawCanvas.toDataURL().replace(/^data:image\/[^;]/, 'data:application/octet-stream');
					var data = drawCanvas.toDataURL();
					downloadLink.setAttribute("href", data);
					downloadLink.click();
					
					//window.location.href = url;
					//downloadBtn.href = drawCanvas.toDataURL();
				};

			};
		</script>
	</head>

	<body>
		<h1>DrawCanvas.js Sample</h1>

		<canvas id="drawCanvas" width="512" height="512" style="width:512px;height:512px;border:solid 2px #000000"></canvas>
		
		<br>
		Pen Size : <input name="penSize" id="penSize" type="range" min="1" max="16"><br>
		
		<button id="downloadBtn">Download As Image</button>
		<a id="downloadLink" href="" download="DrawCanvas.jpg" style="display:none" ></a>
		&nbsp;
		<button id="clearDrawingBtn">Clear Canvas</button>

	</body>
</html